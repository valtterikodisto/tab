{"version":3,"sources":["utils/authConfigHeader.js","services/users.js","reducers/userReducer.js","reducers/notificationReducer.js","images/logo.svg","components/Navigation.js","components/Notification.js","pages/TemplatePage.js","components/Button.js","components/LoginForm.js","services/login.js","pages/LoginPage.js","services/organization.js","services/drink.js","components/Autocomplete.js","utils/centEuroConverter.js","components/CustomerAutocomplete.js","components/ModalCard.js","components/DrinkAddBox.js","components/TotalBox.js","hooks/useField.js","utils/validation.js","components/FormField.js","services/order.js","pages/FrontPage.js","components/RegisterForm.js","pages/RegisterPage.js","components/UserActivationBox.js","components/UserBox.js","components/UserActivationTab.js","pages/UserPage.js","components/OrganizationForm.js","components/OrganizationBox.js","components/PageHeader.js","pages/OrganizationPage.js","services/customers.js","components/OrderHistory.js","components/CustomerBox.js","components/Search.js","components/CustomerForm.js","components/CustomerDeleteBox.js","pages/CustomerPage.js","components/DrinkBox.js","components/DrinkForm.js","pages/DrinkPage.js","pages/ProfilePage.js","App.js","store.js","index.js"],"names":["getHeader","tabListUserJSON","window","localStorage","getItem","user","JSON","parse","headers","Authorization","token","baseUrl","register","username","password","a","axios","post","response","data","getAll","get","users","update","id","put","remove","delete","changePassword","oldPassword","newPassword","setUser","currentUser","type","payload","userReducer","state","action","initialState","text","className","setNotification","notificationReducer","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","width","height","d","fillRule","fill","_ref","svgRef","title","props","style","isolation","viewBox","ref","clipPath","stroke","strokeMiterlimit","ForwardRef","forwardRef","Navigation","menuActive","toggleMenu","logout","navbarAttribute","role","aria-label","alt","aria-expanded","data-target","onClick","aria-hidden","admin","to","navbarStart","Notification","handleDelete","includes","setTimeout","connect","notificationText","notification","notificationClassName","deleteNotification","withRouter","children","history","useState","setMenuActive","removeItem","push","Button","disabled","buttonType","buttonClassName","LoginForm","handleSubmit","setUsername","setPassword","onSubmit","event","onChange","e","value","login","handleLogin","preventDefault","loginService","userWithToken","setItem","stringify","status","padding","organizations","add","name","maxTab","organization","findByName","drinks","getPage","page","getSelected","drink","search","checkIfExists","exact","select","selected","updatedDrink","Autocomplete","getSuggestions","inputValue","trim","toLowerCase","inputLength","options","filter","lang","mapOptionToValue","slice","newValue","setState","onSuggestionsFetchRequested","suggestions","onSuggestionsClearRequested","onSuggestionSelected","suggestion","setValue","onBlur","highlightedSuggestion","option","renderSuggestion","inputProps","placeholder","getSuggestionValue","React","Component","centToEuro","cents","toFixed","euroToCent","euros","Math","ceil","round","parseFloat","replace","Number","isNaN","CustomerAutocomplete","customers","customer","setCustomer","customerOptions","setCustomerOptions","useEffect","yearToString","yearOfBirth","firstname","lastname","balance","block","color","ModalCard","visible","closeVisible","handleClose","backgroundColor","border","margin","borderRadius","fontSize","outline","cursor","substractStyle","DrinkAddBox","handleAdd","handleSubstract","infoOpen","setInfoOpen","price","instructions","escapeHtml","group","ord","_","values","groupBy","TotalBox","order","total","insufficientBalance","groupedOrder","setGroupedOrder","map","Array","isArray","useField","validate","asyncValidate","error","setError","setStyle","handleInvalidInput","then","catch","console","log","borderColor","set","v","validateOrganizationName","organizationService","validateEuro","commaReplacedEuros","test","validateDrinkName","drinkService","FormField","attributes","fontWeight","purchase","deposit","getCustomerOrders","setOrganizations","setCustomers","setDrinks","setOrganization","depositError","setDeposit","setOrder","handleDrinkAdd","concat","handleDrinkSubstract","found","o","reduce","sum","isDisabled","reset","getOrganizationById","drinkBox","orderService","c","RegisterForm","passwordConfirm","setPasswordConfirm","passwordsDiffer","registerFormIsVisible","setRegisterFormIsVisible","handleRegister","userService","UserActivationBox","handleAccept","UserBox","UserActivationTab","userClassName","setUserClassName","requestsClassName","setRequestsClassName","activatedUsers","activated","background","UserPage","setUsers","u","message","obj","activatedUser","updatedUser","OrganizationForm","nameError","setName","maxTabError","setMaxTab","hasErrors","clearFields","OrganizationBox","handleEdit","PageHeader","buttonText","handleClick","justifyContent","marginBottom","marginRight","marginLeft","organizationFormVisible","setOrganizationFormVisible","activeOrganization","setActiveOrganization","handleOrganizationFormSubmit","updateOrganization","addOrganization","handleOrganizationFormClose","updatedOrganization","footerVisible","OrderHistory","orders","loadMore","hasMore","groupedOrders","setGroupedOrders","setPage","loadMoreOrders","date","Date","drinkGroup","toLocaleTimeString","dateStyle","timeStyle","CustomerBox","handleEditOpen","handleBlock","contactIsOpen","setContactIsOpen","historyIsOpen","setHistoryIsOpen","hasMoreOrders","setHasMoreOrders","setOrders","loadMoreHistory","res","paddingRight","paddinLeft","email","Search","handleChange","CustomerForm","handleDeleteButton","setFirstname","setLastname","setYearOfBirth","setEmail","setBalance","invalidBalance","invalidYearOfBirth","isInteger","parseInt","invalidEmail","redIfInvalid","isInvalid","makeInvalidMessage","optional","invalidInput","newCustomer","emptyFields","removeUnnecessaryFields","emai","CustomerDeleteBox","searchResults","setSearchResults","hasMoreCustomers","setHasMoreCustomers","setSearch","editOpen","setEditOpen","addOpen","setAddOpen","deleteOpen","setDeleteOpen","activeCustomer","setActiveCustomer","customerService","loadMoreCustomers","handleEditClose","handleEditSubmit","editedCustomer","handleAddSubmit","handleAddClose","handleCustomerBlock","handleDeleteClose","pageStart","DrinkBox","handleSelect","DrinkForm","priceError","setPrice","instructionsError","setInstructions","selectedDrinks","setSelectedDrinks","hasMoreDrinks","setHasMoreDrinks","formOpen","setFormOpen","activeDrink","setActiveDrink","s","handleFormOpen","handleFormClose","handleFormSubmit","addUpdatedDrink","savedDrink","addNewDrink","loadMoreDrinks","mapToDrinkBox","arr","setOldPassword","setNewPassword","confirm","setConfirm","fieldStyle","display","notSame","path","render","reducer","combineReducers","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.b057490f.chunk.js","sourcesContent":["const getHeader = () => {\n  const tabListUserJSON = window.localStorage.getItem('tabListUser')\n\n  if (tabListUserJSON) {\n    const user = JSON.parse(tabListUserJSON)\n    return {\n      headers: { Authorization: `Bearer ${user.token}` }\n    }\n  }\n\n  return null\n}\n\nexport default getHeader\n","import axios from 'axios'\nimport getHeader from '../utils/authConfigHeader'\nconst baseUrl = '/api/users'\n\nconst register = async (username, password) => {\n  const response = await axios.post(baseUrl, { username, password })\n  return response.data\n}\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl, getHeader())\n  return response.data.users\n}\n\nconst update = async (id, user) => {\n  const response = await axios.put(`${baseUrl}/${id}`, { user }, getHeader())\n  return response.data.user\n}\n\nconst remove = async id => {\n  const response = await axios.delete(`${baseUrl}/${id}`, getHeader())\n  return response.data\n}\n\nconst changePassword = async (id, oldPassword, newPassword) => {\n  const response = await axios.put(\n    `${baseUrl}/password/${id}`,\n    { oldPassword, newPassword },\n    getHeader()\n  )\n  return response.data\n}\n\nexport default { register, getAll, update, changePassword, remove }\n","import userService from '../services/users'\n\nconst userReducer = (state = { currentUser: null }, action) => {\n  switch (action.type) {\n    case 'SET_USER':\n      const currentUser = action.payload.currentUser\n      return { ...state, currentUser }\n    case 'GET_ALL_USERS':\n      const users = action.payload.users\n      return { ...state, users }\n    default:\n      return state\n  }\n}\n\nexport const getAllUsers = () => {\n  return async dispatch => {\n    const users = await userService.getAll()\n    dispatch({\n      type: 'GET_ALL_USERS',\n      payload: {\n        users\n      }\n    })\n  }\n}\n\nexport const setUser = currentUser => {\n  return {\n    type: 'SET_USER',\n    payload: {\n      currentUser\n    }\n  }\n}\n\nexport default userReducer\n","const initialState = { text: null, className: null }\n\nconst notificationReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'SET_NOTIFICATION':\n      const { text, className } = action.payload\n\n      return { ...state, text, className }\n    case 'DELETE_NOTIFICATION':\n      return { ...state, ...initialState }\n    default:\n      return state\n  }\n}\n\nexport const setNotification = (text, className) => {\n  return {\n    type: 'SET_NOTIFICATION',\n    payload: {\n      text,\n      className\n    }\n  }\n}\n\nexport const deleteNotification = () => {\n  return {\n    type: 'DELETE_NOTIFICATION'\n  }\n}\n\nexport default notificationReducer\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"clipPath\", {\n  id: \"_clipPath_iMcO9LmFpPPDMvwlQ4b9tsSeF6krn8nO\"\n}, React.createElement(\"rect\", {\n  width: 400,\n  height: 250\n})));\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \" M 128.765 145.841 C 128.765 115.716 153.223 91.258 183.349 91.258 C 213.474 91.258 237.932 115.716 237.932 145.841 C 237.932 175.966 213.474 200.424 183.349 200.424 C 153.223 200.424 128.765 175.966 128.765 145.841 Z  M 158.91 145.841 C 158.91 132.353 169.861 121.402 183.349 121.402 C 196.837 121.402 207.787 132.353 207.787 145.841 C 207.787 159.329 196.837 170.279 183.349 170.279 C 169.861 170.279 158.91 159.329 158.91 145.841 Z \",\n  fillRule: \"evenodd\",\n  fill: \"rgb(0,0,0)\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \" M 280.978 147.826 C 280.978 134.338 291.929 123.387 305.417 123.387 C 318.905 123.387 329.855 134.338 329.855 147.826 C 329.855 161.314 318.905 172.264 305.417 172.264 C 291.929 172.264 280.978 161.314 280.978 147.826 Z \",\n  fillRule: \"evenodd\",\n  fill: \"rgb(0,0,0)\"\n});\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \" M 250.833 147.826 C 250.833 117.7 275.291 93.242 305.417 93.242 C 335.542 93.242 360 117.7 360 147.826 C 360 177.951 335.542 202.409 305.417 202.409 C 275.291 202.409 250.833 177.951 250.833 147.826 Z \",\n  fill: \"rgb(0,0,0)\"\n});\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \" M 297.762 163.648 L 316.16 163.648 C 317.728 163.648 319.007 162.369 319.007 160.801 L 319.007 135.844 C 319.007 135.448 318.683 135.123 318.287 135.123 L 295.654 135.123 C 295.258 135.123 294.933 135.448 294.933 135.844 L 294.933 160.819 C 294.933 162.369 296.195 163.648 297.762 163.648 L 297.762 163.648 Z  M 314.052 143.214 C 313.547 143.214 313.151 142.818 313.151 142.313 C 313.151 141.808 313.547 141.412 314.052 141.412 C 314.557 141.412 314.953 141.808 314.953 142.313 C 314.953 142.818 314.557 143.214 314.052 143.214 Z  M 314.953 149.377 C 314.953 149.881 314.557 150.278 314.052 150.278 C 313.547 150.278 313.151 149.881 313.151 149.377 C 313.151 148.872 313.547 148.476 314.052 148.476 C 314.557 148.476 314.953 148.89 314.953 149.377 Z  M 309.673 144.115 C 309.673 144.619 309.277 145.016 308.772 145.016 C 308.268 145.016 307.871 144.619 307.871 144.115 C 307.871 143.61 308.268 143.214 308.772 143.214 C 309.277 143.214 309.673 143.61 309.673 144.115 Z  M 303.493 141.412 C 302.952 141.412 302.501 140.962 302.501 140.421 C 302.501 139.88 302.952 139.43 303.493 139.43 C 304.033 139.43 304.484 139.88 304.484 140.421 C 304.484 140.962 304.051 141.412 303.493 141.412 Z  M 304.321 152.242 C 304.321 152.746 303.925 153.143 303.42 153.143 C 302.916 153.143 302.519 152.746 302.519 152.242 C 302.519 151.737 302.916 151.341 303.42 151.341 C 303.907 151.341 304.321 151.755 304.321 152.242 Z  M 300.231 143.214 C 300.231 143.719 299.835 144.115 299.33 144.115 C 298.825 144.115 298.429 143.719 298.429 143.214 C 298.429 142.709 298.825 142.313 299.33 142.313 C 299.817 142.313 300.231 142.709 300.231 143.214 Z  M 329.855 127.771 C 329.855 122.672 325.711 118.527 320.611 118.527 C 315.854 118.527 311.926 122.149 311.421 126.78 L 298.483 126.78 L 296.933 117.194 C 296.807 116.437 296.357 115.77 295.708 115.356 C 295.059 114.941 294.248 114.851 293.528 115.067 L 285.473 117.554 L 286.05 119.446 L 294.104 116.959 C 294.357 116.887 294.555 116.977 294.663 117.032 C 294.753 117.086 294.933 117.23 294.969 117.5 L 296.483 126.762 L 292.338 126.762 L 292.338 168.658 C 292.338 170.478 293.816 171.955 295.636 171.955 L 318.341 171.955 C 320.161 171.955 321.638 170.478 321.638 168.658 L 321.638 136.943 C 326.233 136.475 329.855 132.546 329.855 127.771 L 329.855 127.771 Z  M 321.062 120.347 C 322.071 120.401 323.026 120.671 323.891 121.104 L 321.062 126.077 L 321.062 120.347 L 321.062 120.347 Z  M 320.161 126.294 L 316.845 121.374 C 317.836 120.798 318.953 120.437 320.161 120.365 L 320.161 126.294 Z  M 328.053 128.096 C 328.017 129.083 327.777 130.052 327.35 130.943 L 322.323 128.204 L 328.053 128.096 Z  M 322.305 127.303 L 327.224 124.384 C 327.675 125.23 327.945 126.185 328.035 127.195 L 322.305 127.303 Z  M 326.774 123.591 L 321.854 126.51 L 324.684 121.536 C 325.494 122.095 326.215 122.78 326.774 123.591 Z  M 316.106 121.879 L 319.296 126.618 L 314.178 124.077 C 314.665 123.212 315.313 122.473 316.106 121.879 L 316.106 121.879 Z  M 313.764 124.87 L 317.602 126.78 L 313.241 126.78 C 313.331 126.113 313.511 125.483 313.764 124.87 Z  M 319.62 168.694 C 319.62 169.414 319.025 170.009 318.305 170.009 L 295.6 170.009 C 294.879 170.009 294.284 169.414 294.284 168.694 L 294.284 128.762 L 319.62 128.762 L 319.62 168.694 Z  M 321.602 130.222 L 324.143 134.312 C 323.368 134.727 322.521 135.015 321.602 135.141 L 321.602 130.222 L 321.602 130.222 Z  M 324.9 133.844 L 321.89 128.978 L 326.918 131.717 C 326.395 132.564 325.711 133.285 324.9 133.844 Z \",\n  fill: \"rgb(255,255,255)\"\n});\n\nvar SvgLogo = function SvgLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    style: {\n      isolation: \"isolate\"\n    },\n    viewBox: \"0 0 400 250\",\n    width: 400,\n    height: 250,\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, React.createElement(\"g\", {\n    clipPath: \"url(#_clipPath_iMcO9LmFpPPDMvwlQ4b9tsSeF6krn8nO)\"\n  }, React.createElement(\"path\", {\n    d: \"M 207.167 195.478 L 207.167 100.174 C 207.167 96.348 210.273 93.242 214.098 93.242 L 231.001 93.242 C 234.826 93.242 237.932 96.348 237.932 100.174 L 237.932 195.478 C 237.932 199.303 234.826 202.409 231.001 202.409 L 214.098 202.409 C 210.273 202.409 207.167 199.303 207.167 195.478 Z\",\n    style: {\n      stroke: \"none\",\n      fill: \"#000000\",\n      strokeMiterlimit: 10\n    }\n  }), _ref3, React.createElement(\"path\", {\n    d: \"M 249.841 195.794 L 249.841 54.206 C 249.841 50.555 252.805 47.591 256.456 47.591 L 273.992 47.591 C 277.642 47.591 280.606 50.555 280.606 54.206 L 280.606 195.794 C 280.606 199.445 277.642 202.409 273.992 202.409 L 256.456 202.409 C 252.805 202.409 249.841 199.445 249.841 195.794 Z\",\n    style: {\n      stroke: \"none\",\n      fill: \"#000000\",\n      strokeMiterlimit: 10\n    }\n  }), React.createElement(\"path\", {\n    d: \"M 88.076 195.794 L 88.076 54.206 C 88.076 50.555 91.04 47.591 94.691 47.591 L 112.227 47.591 C 115.877 47.591 118.841 50.555 118.841 54.206 L 118.841 195.794 C 118.841 199.445 115.877 202.409 112.227 202.409 L 94.691 202.409 C 91.04 202.409 88.076 199.445 88.076 195.794 Z\",\n    style: {\n      stroke: \"none\",\n      fill: \"#000000\",\n      strokeMiterlimit: 10\n    }\n  }), React.createElement(\"path\", {\n    d: \"M 45.989 47.591 L 160.928 47.591 C 164.234 47.591 166.917 50.275 166.917 53.58 L 166.917 72.367 C 166.917 75.673 164.234 78.356 160.928 78.356 L 45.989 78.356 C 42.684 78.356 40 75.673 40 72.367 L 40 53.58 C 40 50.275 42.684 47.591 45.989 47.591 Z\",\n    style: {\n      stroke: \"none\",\n      fill: \"#000000\",\n      strokeMiterlimit: 10\n    }\n  }), _ref4, _ref5, _ref6));\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/logo.8d73fbe7.svg\";\nexport { ForwardRef as ReactComponent };","import React, { ReactCom } from 'react'\nimport { Link } from 'react-router-dom'\nimport { ReactComponent as Logo } from '../images/logo.svg'\n\nconst Navigation = ({ menuActive, toggleMenu, currentUser, logout }) => {\n  const navbarAttribute = menuActive ? ' is-active' : ''\n\n  const navbarStart = () => {\n    if (currentUser && currentUser.admin) {\n      return (\n        <div className=\"navbar-start\">\n          <Link className=\"navbar-item\" to=\"/\">\n            Etusivu\n          </Link>\n\n          <Link className=\"navbar-item\" to=\"/customers\">\n            Asiakkaat\n          </Link>\n\n          <Link className=\"navbar-item\" to=\"/organizations\">\n            Järjestöt\n          </Link>\n\n          <Link className=\"navbar-item\" to=\"/drinks\">\n            Hinnasto\n          </Link>\n\n          <Link className=\"navbar-item\" to=\"/users\">\n            Käyttäjät\n          </Link>\n        </div>\n      )\n    }\n  }\n\n  const navbarEnd = () => {\n    if (!currentUser) {\n      return (\n        <div className=\"navbar-end\">\n          <div className=\"navbar-item\">\n            <div className=\"buttons\">\n              <Link className=\"button is-primary\" to=\"/register\">\n                <strong>Rekisteröidy</strong>\n              </Link>\n              <Link className=\"button is-light\" to=\"/login\">\n                Kirjaudu sisään\n              </Link>\n            </div>\n          </div>\n        </div>\n      )\n    } else {\n      return (\n        <div className=\"navbar-end\">\n          <div className=\"navbar-item\">\n            <div className=\"buttons\">\n              <Link className=\"button is-dark\" to=\"/profile\">\n                <strong>{currentUser.username}</strong>\n              </Link>\n              <button className=\"button is-light\" onClick={logout}>\n                Kirjaudu ulos\n              </button>\n            </div>\n          </div>\n        </div>\n      )\n    }\n  }\n\n  return (\n    <nav className=\"navbar\" role=\"navigation\" aria-label=\"main navigation\">\n      <div className=\"navbar-brand\">\n        <div className=\"navbar-item\">\n          <Logo width=\"100\" height=\"62\" alt=\"Tab list logo\" />\n        </div>\n\n        <div\n          role=\"button\"\n          className={`navbar-burger burger${navbarAttribute}`}\n          aria-label=\"menu\"\n          aria-expanded=\"false\"\n          data-target=\"navbarBasic\"\n          onClick={toggleMenu}\n        >\n          <span aria-hidden=\"true\"></span>\n          <span aria-hidden=\"true\"></span>\n          <span aria-hidden=\"true\"></span>\n        </div>\n      </div>\n\n      <div id=\"navbarBasic\" className={`navbar-menu${navbarAttribute}`}>\n        {navbarStart()}\n        {navbarEnd()}\n      </div>\n    </nav>\n  )\n}\n\nexport default Navigation\n","import React from 'react'\n\nconst Notification = ({ text, className, handleDelete }) => {\n  if (!(className && (className.includes('is-warning') || className.includes('is-danger')))) {\n    setTimeout(handleDelete, 5000)\n  }\n\n  return (\n    <div className={`notification ${className}`}>\n      <button className=\"delete\" onClick={handleDelete}></button>\n      {text}\n    </div>\n  )\n}\n\nexport default Notification\n","import React, { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { setUser } from '../reducers/userReducer'\nimport { deleteNotification } from '../reducers/notificationReducer'\nimport PropTypes from 'prop-types'\nimport Navigation from '../components/Navigation'\nimport Notification from '../components/Notification'\n\nconst TemplatePage = ({\n  children,\n  currentUser,\n  setUser,\n  notificationText,\n  notificationClassName,\n  deleteNotification,\n  history\n}) => {\n  const [menuActive, setMenuActive] = useState(false)\n  const toggleMenu = () => setMenuActive(!menuActive)\n\n  const logout = () => {\n    localStorage.removeItem('tabListUser')\n    setUser(null)\n    history.push('/login')\n  }\n\n  const handleNotificationDelete = () => {\n    deleteNotification()\n  }\n\n  return (\n    <>\n      <Navigation\n        menuActive={menuActive}\n        toggleMenu={toggleMenu}\n        currentUser={currentUser}\n        logout={logout}\n      />\n      {notificationText ? (\n        <Notification\n          text={notificationText}\n          className={notificationClassName}\n          handleDelete={handleNotificationDelete}\n        />\n      ) : null}\n      <main>{children}</main>\n    </>\n  )\n}\n\nTemplatePage.propTypes = {\n  children: PropTypes.node.isRequired\n}\n\nconst mapStateToProps = state => {\n  return {\n    currentUser: state.user.currentUser,\n    notificationText: state.notification.text,\n    notificationClassName: state.notification.className\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  { setUser, deleteNotification }\n)(withRouter(TemplatePage))\n","import React from 'react'\n\nconst Button = ({ type, text, onClick, className, style, disabled }) => {\n  const buttonType = type ? type : null\n  const buttonClassName = className ? `button ${className}` : 'button is-primary'\n\n  return (\n    <>\n      <button\n        style={style}\n        type={buttonType}\n        className={buttonClassName}\n        onClick={onClick}\n        disabled={!!disabled}\n      >\n        {text}\n      </button>\n    </>\n  )\n}\n\nexport default Button\n","import React, { useState } from 'react'\nimport Button from './Button'\n\nconst LoginForm = ({ handleSubmit }) => {\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n\n  return (\n    <div className=\"container login-form\">\n      <form\n        onSubmit={event => {\n          handleSubmit(event, username, password, setPassword)\n        }}\n      >\n        <div className=\"field\">\n          <div className=\"control\">\n            <label className=\"label\">Käyttäjänimi</label>\n            <input\n              className=\"input\"\n              type=\"text\"\n              onChange={e => setUsername(e.target.value)}\n              value={username}\n            />\n          </div>\n        </div>\n        <div className=\"field\">\n          <div className=\"control\">\n            <label className=\"label\">Salasana</label>\n            <input\n              className=\"input\"\n              type=\"password\"\n              onChange={e => setPassword(e.target.value)}\n              value={password}\n            />\n          </div>\n        </div>\n        <Button type=\"submit\" text=\"Kirjaudu\" />\n      </form>\n    </div>\n  )\n}\n\nexport default LoginForm\n","import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async (username, password) => {\n  const response = await axios.post(baseUrl, { username, password })\n  return response.data\n}\n\nexport default { login }\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setUser } from '../reducers/userReducer'\nimport { setNotification } from '../reducers/notificationReducer'\nimport { withRouter } from 'react-router-dom'\nimport TemplatePage from './TemplatePage'\nimport LoginForm from '../components/LoginForm'\nimport loginService from '../services/login'\n\nconst LoginPage = ({ setUser, setNotification, history }) => {\n  const handleLogin = async (event, username, password, setPassword) => {\n    event.preventDefault()\n    setPassword('')\n\n    try {\n      const { token, user } = await loginService.login(username, password)\n      const userWithToken = { ...user, token }\n\n      window.localStorage.setItem('tabListUser', JSON.stringify(userWithToken))\n      setUser(userWithToken)\n      history.push('/')\n    } catch (error) {\n      if (error.response.status === 403) {\n        setNotification('Ylläpitäjä ei ole aktivoinut käyttäjää', 'is-warning')\n      } else if (error.response.status === 401) {\n        setNotification('Käyttäjänimi tai salasana väärin', 'is-danger')\n      }\n    }\n  }\n\n  return (\n    <TemplatePage>\n      <div className=\"container\">\n        <div className=\"content\" style={{ padding: '2em 0' }}>\n          <h1 className=\"title is-3 is-vcentered\">Kirjaudu sisään Tablist-tunnuksilla</h1>\n        </div>\n        <LoginForm handleSubmit={handleLogin} />\n      </div>\n    </TemplatePage>\n  )\n}\n\nexport default connect(\n  null,\n  { setUser, setNotification }\n)(withRouter(LoginPage))\n","import axios from 'axios'\nimport getHeader from '../utils/authConfigHeader'\nconst baseUrl = '/api/organization'\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl, getHeader())\n  return response.data.organizations\n}\n\nconst add = async (name, maxTab) => {\n  const response = await axios.post(baseUrl, { name, maxTab }, getHeader())\n  return response.data.organization\n}\n\nconst update = async (id, organization) => {\n  const response = await axios.put(`${baseUrl}/${id}`, { organization }, getHeader())\n  return response.data.organization\n}\n\nconst findByName = async name => {\n  const response = await axios.post(`${baseUrl}/search`, { name }, getHeader())\n  return response.data.organization\n}\n\nexport default { getAll, add, update, findByName }\n","import axios from 'axios'\nimport getHeader from '../utils/authConfigHeader'\nconst baseUrl = '/api/drinks'\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl, getHeader())\n  return response.data.drinks\n}\n\nconst getPage = async page => {\n  const response = await axios.get(`${baseUrl}/page/${page}`, getHeader())\n  return response.data // Drinks & hasMore\n}\n\nconst getSelected = async () => {\n  const response = await axios.get(`${baseUrl}/selected`, getHeader())\n  return response.data.drinks\n}\n\nconst add = async drink => {\n  const response = await axios.post(baseUrl, { drink }, getHeader())\n  return response.data.drink\n}\n\nconst update = async (id, drink) => {\n  const response = await axios.put(`${baseUrl}/${id}`, { drink }, getHeader())\n  return response.data.drink\n}\n\nconst remove = async id => {\n  const response = await axios.delete(`${baseUrl}/${id}`, getHeader())\n  return response.data\n}\n\nconst search = async search => {\n  const response = await axios.post(`${baseUrl}/search`, { search }, getHeader())\n  return response.data.drinks\n}\n\nconst checkIfExists = async name => {\n  const response = await axios.post(`${baseUrl}/search`, { search: name, exact: true }, getHeader())\n  return response.data.drinks && response.data.drinks.length > 0\n}\n\nconst select = async (id, drink) => {\n  const updatedDrink = await update(id, { ...drink, selected: !drink.selected })\n  return updatedDrink\n}\n\nexport default { getAll, getPage, getSelected, add, update, remove, search, checkIfExists, select }\n","import React from 'react'\nimport Autosuggest from 'react-autosuggest'\nimport '../styles/Autosuggest.scss'\n\nclass Autocomplete extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      value: '',\n      suggestions: []\n    }\n  }\n\n  getSuggestions = value => {\n    const inputValue = value.trim().toLowerCase()\n    const inputLength = inputValue.length\n\n    return inputLength === 0\n      ? []\n      : this.props.options.filter(\n          lang =>\n            this.props\n              .mapOptionToValue(lang)\n              .toLowerCase()\n              .slice(0, inputLength) === inputValue\n        )\n  }\n\n  onChange = (event, { newValue }) => {\n    this.setState({\n      value: newValue\n    })\n  }\n\n  onSuggestionsFetchRequested = ({ value }) => {\n    this.setState({\n      suggestions: this.getSuggestions(value)\n    })\n  }\n\n  onSuggestionsClearRequested = () => {\n    this.setState({\n      suggestions: []\n    })\n  }\n\n  onSuggestionSelected = (e, { suggestion }) => {\n    this.props.setValue(suggestion)\n  }\n\n  onBlur = (event, { highlightedSuggestion }) => {\n    if (highlightedSuggestion) {\n      this.props.setValue(highlightedSuggestion)\n    } else {\n      for (const option of this.props.options) {\n        const optionValue = this.props.mapOptionToValue(option).toLowerCase()\n        if (optionValue === this.state.value.trim().toLowerCase()) {\n          this.props.setValue(option)\n          this.setState({ value: this.props.mapOptionToValue(option) })\n          break\n        }\n        this.props.setValue(null)\n      }\n    }\n  }\n\n  renderSuggestion = suggestion => <div>{this.props.mapOptionToValue(suggestion)}</div>\n\n  render() {\n    const { value, suggestions } = this.state\n    const inputProps = {\n      placeholder: this.props.placeholder,\n      value,\n      onChange: this.onChange,\n      onBlur: this.onBlur\n    }\n\n    return (\n      <div className=\"autosuggest\">\n        <Autosuggest\n          suggestions={suggestions}\n          onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\n          onSuggestionsClearRequested={this.onSuggestionsClearRequested}\n          getSuggestionValue={this.props.mapOptionToValue}\n          renderSuggestion={this.renderSuggestion}\n          inputProps={inputProps}\n          onSuggestionSelected={this.onSuggestionSelected}\n        />\n      </div>\n    )\n  }\n}\n\nexport default Autocomplete\n","// Balance is in cents in DB\nexport const centToEuro = cents => {\n  const decimal = cents / 100\n  return decimal.toFixed(2)\n}\n\n// User gives input as String (euro)\nexport const euroToCent = euros => {\n  if (typeof euros === 'number') {\n    return Math.ceil(euros * 100)\n  }\n\n  const cents = Math.round(parseFloat(euros.replace(',', '.')) * 100)\n  if (Number.isNaN(cents)) {\n    return null\n  }\n\n  return cents\n}\n\nexport const validateEuro = euros => {\n  return !Number.isNaN(parseFloat(euros.replace(',', '.')))\n}\n","import React, { useState, useEffect } from 'react'\nimport Autocomplete from './Autocomplete'\nimport { centToEuro } from '../utils/centEuroConverter'\n\nconst CustomerAutocomplete = ({ customers, customer, setCustomer }) => {\n  const [customerOptions, setCustomerOptions] = useState(customers)\n  useEffect(() => {\n    setCustomerOptions(customers)\n  }, [customers, customer])\n\n  const mapOptionToValue = customer =>\n    `${customer.firstname} ${customer.lastname}${yearToString(customer)}`\n  const yearToString = customer => (customer.yearOfBirth ? ` ${customer.yearOfBirth}` : '')\n\n  const generateInfo = () => {\n    if (!customer) return null\n\n    return <small>Tili: {centToEuro(customer.balance)}€</small>\n  }\n\n  const generateBlock = () => {\n    if (!customer || !customer.block) return null\n    return <p style={{ color: 'red' }}> Estetty</p>\n  }\n\n  return (\n    <>\n      <Autocomplete\n        options={customerOptions}\n        mapOptionToValue={mapOptionToValue}\n        value={customer}\n        setValue={setCustomer}\n        placeholder=\"Asiakkaan etu- ja sukunimi\"\n      />\n      {generateInfo()}\n      {generateBlock()}\n    </>\n  )\n}\n\nexport default CustomerAutocomplete\n","import React from 'react'\n\nconst ModalCard = ({ children, visible, closeVisible, title, handleClose }) => {\n  const className = `modal${visible ? ' is-active' : ''}`\n\n  return (\n    <div className={className}>\n      <div className=\"modal-background\" />\n      <div className=\"modal-card\">\n        <header className=\"modal-card-head\">\n          <p className=\"modal-card-title\">{title}</p>\n          {closeVisible ? (\n            <button className=\"delete\" onClick={handleClose} aria-label=\"close\" />\n          ) : null}\n        </header>\n        <section className=\"modal-card-body\">{children}</section>\n      </div>\n    </div>\n  )\n}\n\nexport default ModalCard\n","import React, { useState } from 'react'\nimport ModalCard from './ModalCard'\nimport ReactMarkdown from 'react-markdown'\nimport { centToEuro } from '../utils/centEuroConverter'\n\nconst style = {\n  backgroundColor: '#19323c',\n  color: 'white',\n  border: 'none',\n  padding: '4px 16px',\n  margin: 2,\n  borderRadius: 5,\n  fontSize: '1rem',\n  outline: 'none',\n  cursor: 'pointer'\n}\n\nconst substractStyle = { ...style, backgroundColor: '#f2545b' }\n\nfunction DrinkAddBox({ drink, handleAdd, handleSubstract }) {\n  const [infoOpen, setInfoOpen] = useState(false)\n\n  const infoButton = () => {\n    if (!drink.instructions) {\n      return null\n    }\n\n    return (\n      <button\n        className=\"button is-secondary is-small\"\n        style={{ margin: '1em 0' }}\n        onClick={() => setInfoOpen(true)}\n      >\n        INFO\n      </button>\n    )\n  }\n\n  return (\n    <div className=\"box has-text-centered\">\n      <p>{`${drink.name} ${centToEuro(drink.price)}€`} </p>\n      {infoButton()}\n      <div>\n        <button style={style} onClick={() => handleAdd(drink)}>\n          +\n        </button>\n        <button style={substractStyle} onClick={() => handleSubstract(drink)}>\n          -\n        </button>\n      </div>\n\n      <ModalCard\n        title={`Ohje: ${drink.name}`}\n        visible={infoOpen}\n        closeVisible={true}\n        handleClose={() => setInfoOpen(false)}\n      >\n        <ReactMarkdown source={drink.instructions} escapeHtml={false} />\n      </ModalCard>\n    </div>\n  )\n}\n\nexport default DrinkAddBox\n","import React, { useState, useEffect } from 'react'\nimport { centToEuro } from '../utils/centEuroConverter'\nimport _ from 'lodash'\n\nconst group = ord => _.values(_.groupBy(ord, 'id'))\nconst style = { color: '#f2545b' }\n\nfunction TotalBox({ order, total, insufficientBalance }) {\n  const [groupedOrder, setGroupedOrder] = useState(group(order))\n  useEffect(() => setGroupedOrder(group(order)), [order])\n\n  const mapDrinksToTotal = () => {\n    if (!groupedOrder || groupedOrder.length === 0) {\n      return null\n    }\n\n    return (\n      <div>\n        {groupedOrder.map(drinks => {\n          const name = Array.isArray(drinks) ? drinks[0].name : drinks.name\n          const length = Array.isArray(drinks) ? drinks.length : drinks.length\n          const price = Array.isArray(drinks) ? drinks[0].price : drinks.price\n          const id = Array.isArray(drinks) ? drinks[0].id : drinks.id\n\n          return (\n            <p key={`total-${id}`}>\n              {name} ({length}kpl): {centToEuro(price * length)}€\n            </p>\n          )\n        })}\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"box\">\n      <p>\n        <strong style={insufficientBalance() ? style : null}>Yhteensä: {centToEuro(total)}€</strong>\n      </p>\n      {mapDrinksToTotal()}\n    </div>\n  )\n}\n\nexport default TotalBox\n","import { useState } from 'react'\n\n// Example usage:\n// const { error: nameError, set: setName, ...name } = useField('text', validateDrinkName)\n// With async validation:\n// const { error: nameError, set: setName, ...name } = useField('text', null, validateDrinkName)\n\nconst useField = (type, validate, asyncValidate) => {\n  const [value, setValue] = useState('')\n  const [error, setError] = useState('')\n  const [style, setStyle] = useState()\n\n  const onChange = async event => {\n    if (validate) {\n      const error = validate(event.target.value)\n      handleInvalidInput(error)\n    } else if (asyncValidate) {\n      asyncValidate(event.target.value)\n        .then(error => {\n          handleInvalidInput(error)\n        })\n        .catch(error => console.log(error))\n    }\n\n    setValue(event.target.value)\n  }\n\n  const handleInvalidInput = error => {\n    if (error) {\n      setError(error)\n      setStyle({ borderColor: 'red' })\n    } else {\n      setError('')\n      setStyle(null)\n    }\n  }\n\n  const set = v => {\n    setValue(v)\n    setError('')\n    setStyle(null)\n  }\n\n  return {\n    error,\n    set,\n    type,\n    value,\n    onChange,\n    style\n  }\n}\n\nexport default useField\n","import organizationService from '../services/organization'\nimport drinkService from '../services/drink'\n\n/*\nReturn validation message if input is invalid.\nOtherwise return an empty string.\n*/\n\nexport const validateOrganizationName = async name => {\n  if (name.length < 2) {\n    return 'Nimen tulee olla vähintään 2 merkkiä'\n  }\n\n  try {\n    const organization = await organizationService.findByName(name)\n    if (organization) {\n      return 'Nimi on jo käytössä'\n    }\n    return ''\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nexport const validateEuro = euros => {\n  const commaReplacedEuros = euros.replace(',', '.')\n  const x = 0\n  if (/^\\d*(\\.\\d{0,2})?$/.test(commaReplacedEuros)) {\n    return ''\n  } else {\n    return 'Virheellinen summa'\n  }\n}\n\nexport const validateDrinkName = async name => {\n  const exists = await drinkService.checkIfExists(name)\n  if (exists) {\n    return 'Nimi on jo käytössä'\n  } else if (name.length < 1) {\n    return 'Nimen tulee olla vähintään 1 merkki'\n  }\n  return ''\n}\n\nexport const validateEmail = email => {\n  const emailRegex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n  if (email && !emailRegex.test(email)) {\n    return 'Virheellinen sähköposti'\n  }\n\n  return ''\n}\n","import React from 'react'\n\nconst FormField = ({ placeholder, attributes, error }) => {\n  return (\n    <>\n      <input className=\"input\" {...attributes} placeholder={placeholder} />\n      <small style={{ fontWeight: 300, color: 'red' }}>{error || null}</small>\n    </>\n  )\n}\n\nexport default FormField\n","import axios from 'axios'\nimport getHeader from '../utils/authConfigHeader'\nconst baseUrl = '/api/orders'\n\nconst purchase = async (customer, deposit, drinks) => {\n  const response = await axios.post(baseUrl, { customer, deposit, drinks }, getHeader())\n  return response.data\n}\n\nconst getCustomerOrders = async (customer, page) => {\n  const response = await axios.get(`${baseUrl}/customer/${customer.id}/page/${page}`, getHeader())\n  return response.data\n}\n\nexport default { purchase, getCustomerOrders }\n","import React, { useState, useEffect } from 'react'\nimport organizationService from '../services/organization'\nimport drinkService from '../services/drink'\nimport TemplatePage from './TemplatePage'\nimport CustomerAutocomplete from '../components/CustomerAutocomplete'\nimport DrinkAddBox from '../components/DrinkAddBox'\nimport TotalBox from '../components/TotalBox'\nimport useField from '../hooks/useField'\nimport { validateEuro } from '../utils/validation'\nimport FormField from '../components/FormField'\nimport { euroToCent, centToEuro } from '../utils/centEuroConverter'\nimport Button from '../components/Button'\nimport orderService from '../services/order'\nimport { setNotification } from '../reducers/notificationReducer'\nimport { connect } from 'react-redux'\n\nconst FrontPage = ({ setNotification }) => {\n  const [organizations, setOrganizations] = useState([])\n  const [customers, setCustomers] = useState([])\n  const [drinks, setDrinks] = useState([])\n\n  const [customer, setCustomer] = useState()\n  const [organization, setOrganization] = useState()\n  const { error: depositError, set: setDeposit, ...deposit } = useField('text', validateEuro)\n  const [order, setOrder] = useState([])\n\n  const handleDrinkAdd = drink => setOrder(order.concat(drink))\n\n  const handleDrinkSubstract = drink => {\n    let found = false\n    setOrder(\n      order.filter(o => {\n        if (found) {\n          return true\n        } else if (o.id === drink.id) {\n          found = true\n          return false\n        }\n        return true\n      })\n    )\n  }\n\n  useEffect(() => {\n    organizationService.getAll().then(o => {\n      setOrganizations(o)\n      o.length && setCustomers(o[0].customers)\n      o.length && setOrganization(o[0])\n    })\n    drinkService.getSelected().then(d => setDrinks(d))\n  }, [])\n\n  useEffect(() => {\n    organization && setCustomers(organization.customers)\n  }, [organization])\n\n  const mapOrganizationsToOptions = () =>\n    organizations.map(o => (\n      <option key={o.id} value={o.id}>\n        {o.name}\n      </option>\n    ))\n\n  const getOrganizationById = id => {\n    for (const o of organizations) {\n      if (o.id === id) {\n        return o\n      }\n    }\n  }\n\n  const drinkBox = () => {\n    if (drinks && drinks.length) {\n      return (\n        <div className=\"columns is-multiline\" style={{ padding: '2rem 0' }}>\n          {drinks.map(d => (\n            <div key={d.id} className=\"column is-one-quarter\">\n              <DrinkAddBox\n                drink={d}\n                handleAdd={handleDrinkAdd}\n                handleSubstract={handleDrinkSubstract}\n              />\n            </div>\n          ))}\n        </div>\n      )\n    }\n  }\n\n  const total = () => order.reduce((sum, drink) => drink.price + sum, 0) - euroToCent(deposit.value)\n  const correctCustomer = () => {\n    if (!customer) return true\n    return customer.organization === organization.id\n  }\n\n  const isDisabled = () =>\n    !organization ||\n    !customer ||\n    depositError ||\n    insufficientBalance() ||\n    (!euroToCent(deposit.value) && !total()) ||\n    !correctCustomer() ||\n    customer.block\n  const insufficientBalance = () =>\n    customer && organization ? customer.balance - total() < -organization.maxTab : false\n\n  const handlePurchase = () => {\n    if (isDisabled()) return\n    orderService\n      .purchase(customer, deposit.value ? euroToCent(deposit.value) : 0, order)\n      .then(({ customer }) => {\n        setNotification(\n          `${customer.firstname} ${customer.lastname} tilaus (${centToEuro(total())}€) tallennettu`,\n          'is-success'\n        )\n        setCustomers(customers.map(c => (c.id === customer.id ? customer : c)))\n        setCustomer(customer)\n        reset()\n      })\n      .catch(e => {\n        setNotification('Tilauksen tallennus ei onnistunut', 'is-danger')\n        console.log(e)\n      })\n  }\n\n  const reset = () => {\n    setOrganization(organizations[0])\n    setDeposit('')\n    setOrder([])\n  }\n\n  return (\n    <TemplatePage>\n      <div className=\"container\">\n        <h2 className=\"title is-3\">Lisää ostos</h2>\n        <label className=\"label\">Järjestö</label>\n        <div className=\"field\">\n          <div className=\"control\">\n            <div className=\"select\">\n              {organizations.length && organization ? (\n                <select\n                  value={organization.id}\n                  onChange={e => setOrganization(getOrganizationById(e.target.value))}\n                >\n                  {mapOrganizationsToOptions()}\n                </select>\n              ) : null}\n            </div>\n          </div>\n        </div>\n        <label className=\"label\">Asiakkaan nimi</label>\n        <CustomerAutocomplete customers={customers} customer={customer} setCustomer={setCustomer} />\n        {drinkBox()}\n\n        <label className=\"label\">Talletus</label>\n        <div className=\"field has-addons\">\n          <div className=\"control\">\n            <FormField attributes={deposit} error={depositError} />\n          </div>\n          <div className=\"control\">\n            <span className=\"button is-static\">€</span>\n          </div>\n        </div>\n        <TotalBox order={order} total={total()} insufficientBalance={insufficientBalance} />\n        <Button text=\"Tallenna ostos\" onClick={handlePurchase} disabled={isDisabled()} />\n      </div>\n    </TemplatePage>\n  )\n}\n\nexport default connect(\n  null,\n  { setNotification }\n)(FrontPage)\n","import React, { useState } from 'react'\nimport Button from './Button'\n\nconst RegisterForm = ({ handleSubmit }) => {\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [passwordConfirm, setPasswordConfirm] = useState('')\n\n  const passwordsDiffer = passwordConfirm && passwordConfirm !== password\n\n  return (\n    <div className=\"container register-form\">\n      <form\n        onSubmit={event => {\n          handleSubmit(event, username, password, setPassword, passwordConfirm, setPasswordConfirm)\n        }}\n      >\n        <div className=\"field\">\n          <div className=\"control\">\n            <label className=\"label\">Käyttäjänimi</label>\n            <input\n              className=\"input\"\n              type=\"text\"\n              onChange={e => setUsername(e.target.value)}\n              value={username}\n            />\n          </div>\n        </div>\n        <div className=\"field\">\n          <div className=\"control\">\n            <label className=\"label\">Salasana</label>\n            <input\n              className=\"input\"\n              type=\"password\"\n              onChange={e => setPassword(e.target.value)}\n              value={password}\n            />\n          </div>\n        </div>\n        <div className=\"field\">\n          <div className=\"control\">\n            <label className=\"label\">Toista salasana</label>\n            <input\n              className=\"input\"\n              type=\"password\"\n              onChange={e => setPasswordConfirm(e.target.value)}\n              value={passwordConfirm}\n              style={passwordsDiffer ? { border: '2px solid red' } : null}\n            />\n            {passwordsDiffer ? <small>Salasanat eivät täsmää</small> : null}\n          </div>\n        </div>\n        <Button type=\"submit\" text=\"Rekisteröidy\" />\n      </form>\n    </div>\n  )\n}\n\nexport default RegisterForm\n","import React, { useState } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { setNotification } from '../reducers/notificationReducer'\nimport TemplatePage from './TemplatePage'\nimport RegisterForm from '../components/RegisterForm'\nimport userService from '../services/users'\n\nconst RegisterPage = ({ setNotification, history }) => {\n  const [registerFormIsVisible, setRegisterFormIsVisible] = useState(true)\n\n  const handleRegister = async (\n    event,\n    username,\n    password,\n    setPassword,\n    passwordConfirm,\n    setPasswordConfirm\n  ) => {\n    event.preventDefault()\n    setPassword('')\n    setPasswordConfirm('')\n\n    if (password !== passwordConfirm) {\n      setNotification('Salasanat eivät täsmää', 'is-warning')\n      return\n    } else if (!password) {\n      setNotification('Salasana ei voi olla tyhjä', 'is-warning')\n      return\n    } else if (username.length < 3) {\n      setNotification('Käyttäjänimen tulee olla vähintään 3 merkkiä', 'is-warning')\n      return\n    }\n\n    try {\n      const { user } = await userService.register(username, password)\n      setRegisterFormIsVisible(false)\n    } catch (error) {\n      if (error.response.status === 409) {\n        setNotification('Käyttäjänimi on jo käytössä', 'is-warning')\n      } else {\n        setNotification('Käyttäjää ei voitu rekisteröidä', 'is-danger')\n      }\n    }\n  }\n\n  const registerSection = () => {\n    return (\n      <>\n        <div className=\"content\" style={{ padding: '2em 0' }}>\n          <h1 className=\"title is-3\">Rekisteröi Tablist käyttäjä</h1>\n          <p className=\"is-medium\">\n            Pääset käyttämään Tablistiä, kun rekisteröitymispyyntösi hyväksytään.\n          </p>\n        </div>\n        <RegisterForm handleSubmit={handleRegister} />\n      </>\n    )\n  }\n\n  const successMessage = () => {\n    return (\n      <article className=\"message is-primary\" style={{ padding: '5em 0' }}>\n        <div className=\"message-header\">\n          <p>Rekisteröinti onnistui!</p>\n        </div>\n        <div className=\"message-body\">\n          Pääset kirjautumaan tilille{' '}\n          <strong>kun ylläpitäjä on hyväksynyt rekisteröitymispyyntösi.</strong>\n          <br />\n          <br />\n          <button className=\"button is-primary\" onClick={() => history.push('/login')}>\n            Kirjadu sisään\n          </button>\n        </div>\n      </article>\n    )\n  }\n\n  return (\n    <TemplatePage>\n      <div className=\"container\">\n        {registerFormIsVisible ? registerSection() : successMessage()}\n      </div>\n    </TemplatePage>\n  )\n}\n\nexport default connect(\n  null,\n  { setNotification }\n)(withRouter(RegisterPage))\n","import React from 'react'\nimport Button from './Button'\n\nconst UserActivationBox = ({ user, handleDelete, handleAccept }) => {\n  return (\n    <div className=\"box is-centered\">\n      <article className=\"media\">\n        <div className=\"media-content\">\n          <div className=\"content\">\n            <p>\n              <strong>{user.username}</strong> <small>{user.admin ? 'admin' : 'user'}</small>\n            </p>\n          </div>\n          <nav className=\"level is-mobile\">\n            <div className=\"level-left\">\n              <Button text=\"Hyväksy\" onClick={handleAccept} className=\"level-item is-primary\" />\n              <Button text=\"Hylkää\" onClick={handleDelete} className=\"level-item is-danger\" />\n            </div>\n          </nav>\n        </div>\n      </article>\n    </div>\n  )\n}\n\nexport default UserActivationBox\n","import React from 'react'\n\nconst UserBox = ({ user }) => {\n  return (\n    <div className=\"box\">\n      <article className=\"media\">\n        <div className=\"media-content\">\n          <div className=\"content\">\n            <p>\n              <strong>{user.username}</strong> <small>{user.admin ? 'admin' : 'user'}</small>\n            </p>\n          </div>\n        </div>\n      </article>\n    </div>\n  )\n}\n\nexport default UserBox\n","import React, { useState } from 'react'\nimport UserActivationBox from './UserActivationBox'\nimport UserBox from './UserBox'\n\nconst UserActivationTab = ({ users, handleAccept, handleDelete }) => {\n  const [userClassName, setUserClassName] = useState('is-active')\n  const [requestsClassName, setRequestsClassName] = useState(null)\n\n  const handleUser = () => {\n    if (!userClassName) {\n      setUserClassName('is-active')\n      setRequestsClassName(null)\n    }\n  }\n\n  const handleRequest = () => {\n    if (!requestsClassName) {\n      setRequestsClassName('is-active')\n      setUserClassName(null)\n    }\n  }\n\n  const activatedUsers = users.filter(user => user.activated)\n  const mapUserToBox = () => activatedUsers.map(user => <UserBox user={user} key={user.id} />)\n\n  const mapUserToActivationBox = () => {\n    return users\n      .filter(user => !user.activated)\n      .map(user => (\n        <UserActivationBox\n          user={user}\n          handleAccept={() => handleAccept(user.id, user)}\n          handleDelete={() => handleDelete(user.id)}\n          key={user.id}\n        />\n      ))\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"tabs is-centered\">\n        <ul>\n          <li className={userClassName} onClick={handleUser}>\n            <a>Käyttäjät</a>\n          </li>\n          <li className={requestsClassName} onClick={handleRequest}>\n            <a>\n              Pyynnöt\n              <span\n                style={{\n                  margin: '0 5px',\n                  padding: '0 5px',\n                  background: '#8c5e58',\n                  borderRadius: '5px',\n                  color: 'white'\n                }}\n              >\n                {users.length - activatedUsers.length}\n              </span>\n            </a>\n          </li>\n        </ul>\n      </div>\n\n      {userClassName ? mapUserToBox() : mapUserToActivationBox()}\n    </div>\n  )\n}\n\nexport default UserActivationTab\n","import React, { useState, useEffect } from 'react'\nimport userService from '../services/users'\nimport TemplatePage from './TemplatePage'\nimport UserActivationTab from '../components/UserActivationTab'\n\nconst UserPage = () => {\n  const [users, setUsers] = useState()\n\n  useEffect(() => {\n    userService\n      .getAll()\n      .then(u => setUsers(u))\n      .catch(error => console.log(error.message))\n  }, [])\n\n  const handleAccept = (id, obj) => {\n    const activatedUser = { ...obj, activated: true }\n    userService.update(id, activatedUser).then(updatedUser => {\n      setUsers(users.map(u => (u.id === id ? updatedUser : u)))\n    })\n  }\n\n  const handleDelete = id => {\n    userService.remove(id).then(() => setUsers(users.filter(u => u.id !== id)))\n  }\n\n  return (\n    <TemplatePage>\n      <div>\n        {users ? (\n          <UserActivationTab\n            users={users}\n            handleAccept={handleAccept}\n            handleDelete={handleDelete}\n          />\n        ) : null}\n      </div>\n    </TemplatePage>\n  )\n}\n\nexport default UserPage\n","import React, { useState, useEffect } from 'react'\nimport useField from '../hooks/useField'\nimport { validateOrganizationName, validateEuro } from '../utils/validation'\nimport FormField from './FormField'\nimport { centToEuro, euroToCent } from '../utils/centEuroConverter'\n\nconst OrganizationForm = ({ handleSubmit, handleClose, organization }) => {\n  const { error: nameError, set: setName, ...name } = useField(\n    'text',\n    null,\n    validateOrganizationName\n  )\n  const { error: maxTabError, set: setMaxTab, ...maxTab } = useField('text', validateEuro)\n  const hasErrors = nameError || maxTabError || !name.value || !maxTab.value\n\n  useEffect(() => {\n    if (organization) {\n      setName(organization.name)\n      setMaxTab(centToEuro(organization.maxTab))\n    }\n  }, [organization])\n\n  const onSubmit = async event => {\n    event.preventDefault()\n    if (!hasErrors) {\n      handleSubmit({ ...organization, name: name.value, maxTab: euroToCent(maxTab.value) })\n      clearFields()\n    }\n  }\n\n  const onClose = () => {\n    handleClose()\n    clearFields()\n  }\n\n  const clearFields = () => {\n    setName('')\n    setMaxTab('')\n  }\n\n  return (\n    <form onSubmit={event => onSubmit(event)}>\n      <div>\n        <div className=\"field\">\n          <label className=\"label\">Järjestön nimi</label>\n          <div className=\"field has-addons\">\n            <div className=\"control\">\n              <FormField placeholder=\"Nimi\" attributes={name} error={nameError} />\n            </div>\n          </div>\n        </div>\n\n        <div className=\"field\">\n          <label className=\"label\">Jäsenen maksimivelka</label>\n          <div className=\"field has-addons\">\n            <div className=\"control\">\n              <FormField placeholder=\"Maksimivelka\" attributes={maxTab} error={maxTabError} />\n            </div>\n            <div className=\"control\">\n              <span className=\"button is-static\">€</span>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"field is-grouped\">\n          <div className=\"control\">\n            <button type=\"submit\" className=\"button is-primary\" disabled={hasErrors}>\n              Tallenna järjestö\n            </button>\n          </div>\n          <div className=\"control\">\n            <div className=\"button\" onClick={onClose}>\n              Peruuta\n            </div>\n          </div>\n        </div>\n      </div>\n    </form>\n  )\n}\n\nexport default OrganizationForm\n","import React from 'react'\nimport Button from './Button'\nimport { centToEuro } from '../utils/centEuroConverter'\n\nconst OrganizationBox = ({ organization, handleEdit }) => {\n  return (\n    <div className=\"box\">\n      <div className=\"content has-text-centered\">\n        <p>\n          <strong>{organization.name}</strong>\n        </p>\n        <p>Maksimivelka: {centToEuro(organization.maxTab)}€</p>\n      </div>\n      <div className=\"has-text-centered\">\n        <Button text=\"Muokkaa\" onClick={() => handleEdit(organization)} className=\"is-primary\" />\n      </div>\n    </div>\n  )\n}\n\nexport default OrganizationBox\n","import React from 'react'\nimport Button from './Button'\n\nconst PageHeader = ({ title, buttonText, handleClick }) => {\n  return (\n    <div className=\"level\" style={{ justifyContent: 'center', margin: '2em 0' }}>\n      <h1 className=\"title has-text-centered\" style={{ marginBottom: 0, marginRight: '10px' }}>\n        {title}\n      </h1>\n      <Button style={{ marginLeft: '10px' }} text={buttonText} onClick={handleClick} />\n    </div>\n  )\n}\n\nexport default PageHeader\n","import React, { useState, useEffect } from 'react'\nimport organizationService from '../services/organization'\nimport { connect } from 'react-redux'\nimport { setNotification } from '../reducers/notificationReducer'\nimport TemplatePage from './TemplatePage'\nimport ModalCard from '../components/ModalCard'\nimport OrganizationForm from '../components/OrganizationForm'\nimport OrganizationBox from '../components/OrganizationBox'\nimport PageHeader from '../components/PageHeader'\n\nconst OrganizationPage = ({ setNotification }) => {\n  const [organizations, setOrganizations] = useState()\n  const [organizationFormVisible, setOrganizationFormVisible] = useState(false)\n  const [activeOrganization, setActiveOrganization] = useState(null)\n\n  useEffect(() => {\n    organizationService\n      .getAll()\n      .then(o => {\n        setOrganizations(o)\n      })\n      .catch(e => console.log(e))\n  }, [])\n\n  const handleOrganizationFormSubmit = async organization => {\n    const { name, maxTab } = organization\n\n    if (organization.id) {\n      updateOrganization(organization)\n    } else {\n      addOrganization({ name, maxTab })\n    }\n  }\n\n  const addOrganization = organization => {\n    const { name, maxTab } = organization\n\n    organizationService\n      .add(name, maxTab)\n      .then(o => {\n        setOrganizations(organizations.concat(o))\n        handleOrganizationFormClose()\n        setNotification(`${o.name} lisättiin onnistuneesti!`, 'is-primary')\n      })\n      .catch(error => {\n        handleOrganizationFormClose()\n        if (error.response.status === 409) {\n          setNotification(`Järjestön nimi '${name}' on jo käytössä`, 'is-warning')\n        } else {\n          setNotification(`Järjestön ${name} lisääminen ei onnistunut`, 'is-danger')\n        }\n\n        console.log(error)\n      })\n  }\n\n  const updateOrganization = organization => {\n    organizationService\n      .update(organization.id, organization)\n      .then(updatedOrganization => {\n        setOrganizations(\n          organizations.map(o => (o.id === organization.id ? updatedOrganization : o))\n        )\n        handleOrganizationFormClose()\n        setNotification(`${organization.name} päivitettiin onnistuneesti!`, 'is-primary')\n      })\n      .catch(error => {\n        setNotification(`Järjestön ${organization.name} päivittäminen ei onnistunut`, 'is-danger')\n        console.log(error)\n      })\n  }\n\n  const handleOrganizationFormClose = () => {\n    setOrganizationFormVisible(false)\n    setActiveOrganization(null)\n  }\n\n  const handleEdit = organization => {\n    setActiveOrganization(organization)\n    setOrganizationFormVisible(true)\n  }\n\n  return (\n    <TemplatePage>\n      <ModalCard\n        visible={organizationFormVisible}\n        footerVisible={false}\n        title=\"Järjestön lisäys\"\n        handleClose={handleOrganizationFormClose}\n      >\n        <OrganizationForm\n          handleSubmit={handleOrganizationFormSubmit}\n          handleClose={handleOrganizationFormClose}\n          organization={activeOrganization}\n        />\n      </ModalCard>\n      <div className=\"container\">\n        <PageHeader\n          title=\"Järjestöt\"\n          buttonText=\"Lisää järjestö\"\n          handleClick={() => handleEdit(null)}\n        />\n\n        {organizations\n          ? organizations.map(o => (\n              <OrganizationBox organization={o} key={o.id} handleEdit={handleEdit} />\n            ))\n          : null}\n      </div>\n    </TemplatePage>\n  )\n}\n\nexport default connect(\n  null,\n  { setNotification }\n)(OrganizationPage)\n","import axios from 'axios'\nimport getHeader from '../utils/authConfigHeader'\nconst baseUrl = '/api/customers'\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl, getHeader())\n  return response.data.customers\n}\n\nconst getPage = async page => {\n  const response = await axios.get(`${baseUrl}/page/${page}`, getHeader())\n  return response.data\n}\n\nconst add = async customer => {\n  const response = await axios.post(baseUrl, { customer }, getHeader())\n  return response.data.customer\n}\n\nconst update = async (id, customer) => {\n  const response = await axios.put(`${baseUrl}/${id}`, { customer }, getHeader())\n  return response.data.customer\n}\n\nconst remove = async id => {\n  const response = await axios.delete(`${baseUrl}/${id}`, getHeader())\n  return response.data\n}\n\nconst block = async id => {\n  const response = await axios.post(`${baseUrl}/block/${id}`, {}, getHeader())\n  return response.data.customer\n}\n\nconst search = async search => {\n  const response = await axios.post(`${baseUrl}/search`, { search }, getHeader())\n  return response.data.customers\n}\n\nexport default { getAll, getPage, add, update, remove, block, search }\n","import React, { useState, useEffect } from 'react'\nimport _ from 'lodash'\nimport { centToEuro } from '../utils/centEuroConverter'\nimport Button from './Button'\n\nconst group = ord => _.values(_.groupBy(ord, 'id'))\n\nfunction OrderHistory({ orders, loadMore, hasMore }) {\n  const [groupedOrders, setGroupedOrders] = useState([])\n  const [page, setPage] = useState(1)\n\n  useEffect(() => {\n    loadMoreOrders()\n  }, [])\n\n  useEffect(() => {\n    orders &&\n      setGroupedOrders(\n        orders.map(order => {\n          const groupedOrder = { ...order, drinks: group(order.drinks) }\n          return groupedOrder\n        })\n      )\n  }, [orders])\n\n  const loadMoreOrders = async () => {\n    if (hasMore) {\n      await loadMore(page)\n      setPage(page + 1)\n    }\n  }\n\n  const mapToRows = () => {\n    return groupedOrders.map(order => {\n      const date = new Date(order.date)\n\n      return (\n        <tr key={order.id}>\n          <td>\n            {order.drinks.map(drinkGroup => (\n              <div key={`${order.id}-${drinkGroup[0].id}`}>\n                {`${drinkGroup[0].name} (${drinkGroup.length}kpl)`}\n                <br />\n              </div>\n            ))}\n          </td>\n          <td>{centToEuro(order.deposit)}€</td>\n          <td>{centToEuro(order.total)}€</td>\n          <td>{date.toLocaleTimeString('fi-FI', { dateStyle: 'full', timeStyle: 'short' })}</td>\n        </tr>\n      )\n    })\n  }\n  return (\n    <div>\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th>Juomat</th>\n            <th>Talletus</th>\n            <th>Yhteensä</th>\n            <th>Päivämäärä</th>\n          </tr>\n        </thead>\n        <tbody>{mapToRows()}</tbody>\n      </table>\n      {hasMore ? <Button text=\"Lataa lisää\" onClick={loadMoreOrders} /> : null}\n    </div>\n  )\n}\n\nexport default OrderHistory\n","import React, { useState } from 'react'\nimport { centToEuro } from '../utils/centEuroConverter'\nimport Button from '../components/Button'\nimport ModalCard from './ModalCard'\nimport OrderHistory from './OrderHistory'\nimport orderService from '../services/order'\n\nconst CustomerBox = ({ customer, handleEditOpen, handleBlock }) => {\n  const [contactIsOpen, setContactIsOpen] = useState(false)\n\n  // Customer orders state\n  const [historyIsOpen, setHistoryIsOpen] = useState(false)\n  const [hasMoreOrders, setHasMoreOrders] = useState(true)\n  const [orders, setOrders] = useState([])\n\n  const handleContactOpen = () => {\n    setContactIsOpen(true)\n  }\n\n  const handleContactClose = () => {\n    setContactIsOpen(false)\n  }\n\n  const handleHistoryOpen = () => {\n    setHistoryIsOpen(true)\n  }\n\n  const handleHistoryClose = () => {\n    setHistoryIsOpen(false)\n  }\n\n  const loadMoreHistory = async page => {\n    console.log('LOADING...', page)\n    orderService\n      .getCustomerOrders(customer, page)\n      .then(res => {\n        setOrders(orders.concat(res.orders))\n        setHasMoreOrders(res.hasMore)\n      })\n      .catch(e => console.log(e))\n  }\n\n  return (\n    <div className=\"box\">\n      <div className=\"has-text-centered\">\n        {customer.block ? (\n          <div className=\"level\">\n            <div className=\"level-item has-text-centered\">\n              <strong>Estetty</strong>\n            </div>\n          </div>\n        ) : null}\n\n        <strong style={{ paddingRight: '5px' }}>\n          {customer.firstname} {customer.lastname}\n          {customer.yearOfBirth ? ` (${customer.yearOfBirth})` : ''}\n        </strong>\n        <small style={{ paddinLeft: '5px' }}>{customer.organization.name}</small>\n      </div>\n      <div className=\"has-text-centered\" style={{ margin: '10px 0' }}>\n        <strong className=\"title is-5\">{centToEuro(customer.balance)}€</strong>\n      </div>\n      <div className=\"has-text-centered\">\n        <Button\n          style={{ margin: '0 5px' }}\n          text=\"Muokkaa\"\n          onClick={() => handleEditOpen(customer)}\n        />\n\n        <Button style={{ margin: '0 5px' }} text=\"Ostohistoria\" onClick={handleHistoryOpen} />\n        {customer.email ? (\n          <Button style={{ margin: '0 5px' }} text=\"Ota yhteyttä\" onClick={handleContactOpen} />\n        ) : null}\n\n        {customer.block ? (\n          <Button\n            style={{ margin: '0 5px' }}\n            text=\"Poista esto\"\n            className=\"is-success\"\n            onClick={() => handleBlock(customer.id)}\n          />\n        ) : (\n          <Button\n            style={{ margin: '0 5px' }}\n            text=\"Estä\"\n            className=\"is-danger\"\n            onClick={() => handleBlock(customer.id)}\n          />\n        )}\n      </div>\n\n      <ModalCard\n        visible={contactIsOpen}\n        closeVisible={true}\n        title={`${customer.firstname} ${customer.lastname}`}\n        handleClose={handleContactClose}\n      >\n        <p>Ota yhteyttä: {customer.email}</p>\n      </ModalCard>\n      <ModalCard\n        visible={historyIsOpen}\n        closeVisible={true}\n        title={`${customer.firstname} ${customer.lastname}: Ostokset`}\n        handleClose={handleHistoryClose}\n      >\n        <OrderHistory orders={orders} loadMore={loadMoreHistory} hasMore={hasMoreOrders} />\n      </ModalCard>\n    </div>\n  )\n}\n\nexport default CustomerBox\n","import React from 'react'\n\nconst Search = ({ value, handleChange, placeholder }) => {\n  return (\n    <div className=\"field has-addons\" style={{ margin: '10px 0' }}>\n      <label className=\"label\" style={{ margin: '5px 10px 0 0' }}>\n        Hae:\n      </label>\n      <div className=\"control\">\n        <input\n          className=\"input\"\n          type=\"text\"\n          placeholder={placeholder}\n          value={value}\n          onChange={handleChange}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default Search\n","import React, { useState, useEffect } from 'react'\nimport Button from '../components/Button'\nimport { euroToCent, centToEuro, validateEuro } from '../utils/centEuroConverter'\n\nconst CustomerForm = ({\n  handleSubmit,\n  handleClose,\n  customer,\n  organizations,\n  handleDeleteButton\n}) => {\n  const [organization, setOrganization] = useState('')\n  const [firstname, setFirstname] = useState('')\n  const [lastname, setLastname] = useState('')\n  const [yearOfBirth, setYearOfBirth] = useState('')\n  const [email, setEmail] = useState('')\n  const [balance, setBalance] = useState('')\n\n  const invalidBalance = balance.length > 0 && !validateEuro(balance)\n  const invalidYearOfBirth =\n    (yearOfBirth && !Number.isInteger(parseInt(yearOfBirth))) || parseInt(yearOfBirth) < 1900\n  const invalidEmail =\n    email &&\n    !/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\n      email\n    )\n  const redIfInvalid = isInvalid => (isInvalid ? { borderColor: 'red' } : null)\n  const makeInvalidMessage = (isInvalid, message) => (isInvalid ? <small>{message}</small> : null)\n  const optional = () => {\n    return <small style={{ fontWeight: '300' }}>(valinnainen)</small>\n  }\n\n  useEffect(() => {\n    if (organizations.length && !organization) {\n      setOrganization(organizations[0].id)\n      setBalance(0)\n    }\n  }, [organizations])\n\n  useEffect(() => {\n    if (customer) {\n      setOrganization(customer.organization.id)\n      setFirstname(customer.firstname)\n      setLastname(customer.lastname)\n      setYearOfBirth(customer.yearOfBirth ? customer.yearOfBirth : '')\n      setEmail(customer.email ? customer.email : '')\n      setBalance(customer.balance ? centToEuro(customer.balance) : '0')\n    }\n  }, [customer])\n\n  const mapOrganizationsToOptions = () => {\n    if (organizations) {\n      return organizations.map(o => (\n        <option key={o.id} value={o.id}>\n          {o.name}\n        </option>\n      ))\n    }\n\n    return null\n  }\n\n  const onSubmit = async event => {\n    event.preventDefault()\n\n    const invalidInput =\n      !firstname.trim() ||\n      !lastname.trim() ||\n      invalidBalance ||\n      invalidYearOfBirth ||\n      invalidEmail ||\n      !organization\n\n    console.log(invalidInput)\n\n    if (invalidInput) return\n\n    const newCustomer = customer\n      ? {\n          ...customer,\n          organization,\n          firstname,\n          lastname,\n          yearOfBirth,\n          email,\n          balance: euroToCent(balance)\n        }\n      : {\n          organization,\n          firstname,\n          lastname,\n          yearOfBirth,\n          email,\n          balance: euroToCent(balance)\n        }\n\n    emptyFields()\n    handleSubmit(removeUnnecessaryFields(newCustomer))\n  }\n\n  const handleFormClose = () => {\n    handleClose()\n    emptyFields()\n  }\n\n  const removeUnnecessaryFields = customer => {\n    if (!customer.yearOfBirth && !customer.emai) {\n      const { yearOfBirth, email, ...modifiedCustomer } = customer\n      return modifiedCustomer\n    } else if (!customer.yearOfBirth) {\n      const { yearOfBirth, ...modifiedCustomer } = customer\n      return modifiedCustomer\n    } else if (!customer.email) {\n      const { email, ...modifiedCustomer } = customer\n      return modifiedCustomer\n    }\n    return customer\n  }\n\n  const emptyFields = () => {\n    setOrganization(organizations[0] && organizations[0].id)\n    setFirstname('')\n    setLastname('')\n    setYearOfBirth('')\n    setEmail('')\n    setBalance('')\n  }\n\n  return (\n    <form onSubmit={onSubmit}>\n      <label className=\"label\">Järjestö</label>\n      <div className=\"field has-addons\">\n        <div className=\"control\">\n          <div className=\"select\">\n            {organizations.length ? (\n              <select\n                value={organization || organizations[0].id}\n                onChange={e => setOrganization(e.target.value)}\n              >\n                {mapOrganizationsToOptions()}\n              </select>\n            ) : null}\n          </div>\n        </div>\n      </div>\n\n      <label className=\"label\">Etunimi</label>\n      <div className=\"field has-addons\">\n        <div className=\"control\">\n          <input\n            className=\"input\"\n            type=\"text\"\n            onChange={e => setFirstname(e.target.value)}\n            value={firstname}\n          />\n        </div>\n      </div>\n      <label className=\"label\">Sukunimi</label>\n      <div className=\"field has-addons\">\n        <div className=\"control\">\n          <input\n            className=\"input\"\n            type=\"text\"\n            onChange={e => setLastname(e.target.value)}\n            value={lastname}\n          />\n        </div>\n      </div>\n\n      <label className=\"label\">Tili</label>\n      <div className=\"field has-addons\">\n        <div className=\"control\">\n          <input\n            className=\"input\"\n            type=\"text\"\n            onChange={e => setBalance(e.target.value)}\n            value={balance}\n            style={redIfInvalid(invalidBalance)}\n          />\n        </div>\n\n        <div className=\"control\">\n          <span className=\"button is-static\">€</span>\n        </div>\n      </div>\n      {makeInvalidMessage(invalidBalance, 'Virheellinen luku')}\n      <label className=\"label\">Syntymävuosi {optional()}</label>\n      <div className=\"field has-addons\">\n        <div className=\"control\">\n          <input\n            className=\"input\"\n            type=\"text\"\n            onChange={e => setYearOfBirth(e.target.value)}\n            value={yearOfBirth}\n            style={redIfInvalid(invalidYearOfBirth)}\n          />\n        </div>\n      </div>\n      {makeInvalidMessage(invalidYearOfBirth, 'Vuoden tulee olla vähintään 1900')}\n      <label className=\"label\">Sähköposti {optional()}</label>\n      <div className=\"field has-addons\">\n        <div className=\"control\">\n          <input\n            className=\"input\"\n            type=\"text\"\n            onChange={e => setEmail(e.target.value)}\n            value={email}\n            style={redIfInvalid(invalidEmail)}\n          />\n        </div>\n      </div>\n      <div>{makeInvalidMessage(invalidEmail, 'Virheellinen sähköposti')}</div>\n\n      <Button\n        style={{ marginRight: '5px' }}\n        type=\"submit\"\n        text=\"Tallenna\"\n        disabled={!organization}\n      />\n      <div className=\"button\" style={{ margin: '0 5px' }} onClick={handleFormClose}>\n        Peruuta\n      </div>\n      {customer ? (\n        <div\n          style={{ marginLeft: '5px' }}\n          className=\"button is-danger\"\n          onClick={() => handleDeleteButton(customer)}\n        >\n          Poista\n        </div>\n      ) : null}\n    </form>\n  )\n}\n\nexport default CustomerForm\n","import React from 'react'\nimport ModalCard from './ModalCard'\nimport Button from './Button'\n\nconst CustomerDeleteBox = ({ customer, handleSubmit, handleClose }) => {\n  const handleFormSubmit = event => {\n    event.preventDefault()\n    handleSubmit(customer)\n  }\n\n  return customer ? (\n    <ModalCard handleClose={handleClose} visible={true} title=\"Asiakkaan poisto\">\n      <p>\n        Olet poistamassa asiakasta <strong>{`${customer.firstname} ${customer.lastname}`}</strong>\n      </p>\n      <p>\n        Poistaessasi asiakkaan, kaikki asiakkaaseen liittyvä tieto (ml. ostoshistoria){' '}\n        <strong>poistetaan pysyvästi</strong>\n      </p>\n      <br />\n\n      <strong>Poistetaanko asiakas?</strong>\n      <form onSubmit={handleFormSubmit}>\n        <Button\n          style={{ marginRight: '5px' }}\n          type=\"submit\"\n          className=\"is-danger\"\n          text=\"Poista asiakas\"\n        />\n        <div style={{ marginLeft: '5px' }} className=\"button\" onClick={handleClose}>\n          Peruuta\n        </div>\n      </form>\n    </ModalCard>\n  ) : null\n}\n\nexport default CustomerDeleteBox\n","import React, { useState, useEffect } from 'react'\nimport customerService from '../services/customers'\nimport organizationService from '../services/organization'\nimport { connect } from 'react-redux'\nimport { setNotification } from '../reducers/notificationReducer'\nimport TemplatePage from './TemplatePage'\nimport CustomerBox from '../components/CustomerBox'\nimport InfiniteScroll from 'react-infinite-scroller'\nimport Search from '../components/Search'\nimport ModalCard from '../components/ModalCard'\nimport CustomerForm from '../components/CustomerForm'\nimport CustomerDeleteBox from '../components/CustomerDeleteBox'\nimport PageHeader from '../components/PageHeader'\n\nconst CustomerPage = ({ setNotification }) => {\n  const [organizations, setOrganizations] = useState([])\n  const [customers, setCustomers] = useState([])\n  const [searchResults, setSearchResults] = useState([])\n  const [hasMoreCustomers, setHasMoreCustomers] = useState(true)\n  const [search, setSearch] = useState('')\n\n  const [editOpen, setEditOpen] = useState(false)\n  const [addOpen, setAddOpen] = useState(false)\n  const [deleteOpen, setDeleteOpen] = useState(false)\n  const [activeCustomer, setActiveCustomer] = useState()\n\n  useEffect(() => {\n    organizationService\n      .getAll()\n      .then(o => setOrganizations(o))\n      .catch(e => setNotification('Järjestöjä ei voitu ladata', 'is-danger'))\n  }, [])\n\n  useEffect(() => {\n    if (search) {\n      customerService\n        .search(search)\n        .then(c => setSearchResults(c))\n        .catch(e => console.log(e))\n    }\n  }, [search])\n\n  const loadMoreCustomers = async page => {\n    customerService\n      .getPage(page)\n      .then(res => {\n        setCustomers(customers.concat(res.customers))\n        setHasMoreCustomers(res.hasMore)\n      })\n      .catch(e => console.log(e))\n  }\n\n  const handleSearchChange = event => {\n    setSearch(event.target.value)\n  }\n\n  const handleEditOpen = customer => {\n    setActiveCustomer(customer)\n    setEditOpen(true)\n  }\n\n  const handleEditClose = () => {\n    setActiveCustomer()\n    setEditOpen(false)\n  }\n\n  const handleEditSubmit = async editedCustomer => {\n    customerService\n      .update(editedCustomer.id, editedCustomer)\n      .then(c => {\n        setCustomers(customers.map(customer => (customer.id === c.id ? c : customer)))\n        setSearchResults(searchResults.map(customer => (customer.id === c.id ? c : customer)))\n        handleEditClose()\n        setNotification(\n          `Asiakkaan ${c.firstname} ${c.lastname} tiedot päivitettiin onnistuneesti!`,\n          'is-primary'\n        )\n      })\n      .catch(e => {\n        setNotification(\n          `Asiakkaan ${editedCustomer.firstname} ${editedCustomer.lastname} tietoja ei voitu päivittää`,\n          'is-danger'\n        )\n        console.log(e)\n      })\n  }\n\n  const handleAddSubmit = async newCustomer => {\n    customerService\n      .add(newCustomer)\n      .then(c => {\n        if (search) {\n          setSearchResults(searchResults.concat(c))\n        } else {\n          setCustomers(customers.concat(c))\n        }\n        handleAddClose()\n        setNotification(`${c.firstname} ${c.lastname} lisättiin onnistuneesti!`, 'is-primary')\n      })\n      .catch(e => {\n        setNotification(`Asiakkaan lisäys ei onnistunut`, 'is-danger')\n        console.log(e)\n      })\n  }\n\n  const handleAddClose = () => setAddOpen(false)\n\n  const handleCustomerBlock = async id => {\n    customerService\n      .block(id)\n      .then(c => {\n        setCustomers(customers.map(customer => (customer.id === c.id ? c : customer)))\n        setSearchResults(searchResults.map(customer => (customer.id === c.id ? c : customer)))\n        setNotification(\n          `${c.firstname} ${c.lastname}: ${c.block ? 'estetty' : 'esto poistettu'}`,\n          'is-primary'\n        )\n      })\n      .catch(e => {\n        setNotification('Eston muuttaminen epäonnistui', 'is-danger')\n        console.log(e)\n      })\n  }\n\n  const handleDeleteButton = customer => {\n    setEditOpen(false)\n    setDeleteOpen(true)\n  }\n\n  const handleDelete = customer => {\n    customerService\n      .remove(customer.id)\n      .then(() => {\n        handleDeleteClose()\n        setCustomers(customers.filter(c => c.id !== customer.id))\n        setSearchResults(searchResults.filter(c => c.id !== customer.id))\n        setNotification('Asiakas poistettu', 'is-primary')\n      })\n      .catch(e => {\n        setNotification(\n          `Asiakkaan ${customer.firstname} ${customer.lastname} poistaminen ei onnistunut`,\n          'is-danger'\n        )\n        console.log(e)\n      })\n  }\n\n  const handleDeleteClose = () => {\n    setActiveCustomer()\n    setDeleteOpen(false)\n  }\n\n  return (\n    <TemplatePage>\n      <div className=\"container\">\n        <PageHeader\n          title=\"Asiakkaat\"\n          buttonText=\"Lisää asiakas\"\n          handleClick={() => setAddOpen(true)}\n        />\n        <div className=\"columns is-centered\">\n          <Search value={search} placeholder={'Etsi asiakas'} handleChange={handleSearchChange} />\n        </div>\n\n        {search ? (\n          <div className=\"container\">\n            {searchResults.map(c => (\n              <CustomerBox\n                customer={c}\n                key={c.id}\n                handleEditOpen={handleEditOpen}\n                handleBlock={handleCustomerBlock}\n              />\n            ))}\n          </div>\n        ) : (\n          <InfiniteScroll pageStart={0} loadMore={loadMoreCustomers} hasMore={hasMoreCustomers}>\n            <div className=\"container\">\n              {customers.map(c => (\n                <CustomerBox\n                  customer={c}\n                  key={c.id}\n                  handleEditOpen={handleEditOpen}\n                  handleBlock={handleCustomerBlock}\n                />\n              ))}\n            </div>\n          </InfiniteScroll>\n        )}\n\n        {activeCustomer ? (\n          <ModalCard\n            visible={editOpen}\n            title={`${activeCustomer.firstname} ${activeCustomer.lastname}`}\n            handleClose={handleEditClose}\n          >\n            <CustomerForm\n              handleSubmit={handleEditSubmit}\n              handleClose={handleEditClose}\n              customer={activeCustomer}\n              organizations={organizations}\n              handleDeleteButton={handleDeleteButton}\n            />\n          </ModalCard>\n        ) : null}\n        <ModalCard visible={addOpen} title=\"Lisää asiakas\" handleClose={handleAddClose}>\n          <CustomerForm\n            handleSubmit={handleAddSubmit}\n            handleClose={handleAddClose}\n            organizations={organizations}\n          />\n        </ModalCard>\n        {deleteOpen && activeCustomer ? (\n          <CustomerDeleteBox\n            customer={activeCustomer}\n            handleSubmit={handleDelete}\n            handleClose={handleDeleteClose}\n          />\n        ) : null}\n      </div>\n    </TemplatePage>\n  )\n}\n\nexport default connect(\n  null,\n  { setNotification }\n)(CustomerPage)\n","import React from 'react'\nimport { centToEuro } from '../utils/centEuroConverter'\nimport Button from '../components/Button'\n\nconst DrinkBox = ({ drink, handleEditOpen, handleSelect }) => {\n  return (\n    <div className=\"box\">\n      <div className=\"has-text-centered\">\n        <strong>{drink.name}</strong>\n      </div>\n      <div className=\"has-text-centered\" style={{ margin: '10px 0' }}>\n        <strong className=\"title is-5\">{centToEuro(drink.price)}€</strong>\n      </div>\n      <div className=\"has-text-centered\">\n        <Button\n          className=\"is-primary\"\n          text=\"Muokkaa\"\n          style={{ margin: '0 5px' }}\n          onClick={() => handleEditOpen(drink)}\n        />\n        {drink.selected ? (\n          <Button className=\"is-danger\" text=\"Poista valinta\" onClick={() => handleSelect(drink)} />\n        ) : (\n          <Button className=\"is-success\" text=\"Valitse\" onClick={() => handleSelect(drink)} />\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default DrinkBox\n","import React, { useEffect } from 'react'\nimport useField from '../hooks/useField'\nimport { validateDrinkName, validateEuro } from '../utils/validation'\nimport { centToEuro, euroToCent } from '../utils/centEuroConverter'\nimport FormField from './FormField'\n\nconst DrinkForm = ({ drink, handleSubmit, handleClose }) => {\n  const { error: nameError, set: setName, ...name } = useField('text', null, validateDrinkName)\n  const { error: priceError, set: setPrice, ...price } = useField('text', validateEuro)\n  const { error: instructionsError, set: setInstructions, ...instructions } = useField('text')\n  const hasErrors = nameError || priceError || !name.value || !price.value\n\n  useEffect(() => {\n    if (drink && drink.id) {\n      setName(drink.name)\n      setPrice(centToEuro(drink.price))\n      setInstructions(drink.instructions)\n    }\n  }, [drink])\n\n  const onSubmit = event => {\n    event.preventDefault()\n    handleSubmit({\n      ...drink,\n      name: name.value,\n      price: euroToCent(price.value),\n      instructions: instructions.value\n    })\n    clearFields()\n  }\n\n  const onClose = () => {\n    handleClose()\n    clearFields()\n  }\n\n  const clearFields = () => {\n    setName('')\n    setPrice('')\n    setInstructions('')\n  }\n\n  return (\n    <form onSubmit={event => onSubmit(event)}>\n      <div className=\"field\">\n        <label className=\"label\">Juoman nimi</label>\n        <div className=\"field has-addons\">\n          <div className=\"control\">\n            <FormField placeholder=\"Nimi\" attributes={name} error={nameError} />\n          </div>\n        </div>\n      </div>\n\n      <div className=\"field\">\n        <label className=\"label\">Juoman hinta</label>\n        <div className=\"field has-addons\">\n          <div className=\"control\">\n            <FormField placeholder=\"Hinta\" attributes={price} error={priceError} />\n          </div>\n          <div className=\"control\">\n            <span className=\"button is-static\">€</span>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"field\">\n        <label className=\"label\">Ohjeet</label>\n        <div className=\"field has-addons\">\n          <div className=\"control\">\n            <textarea className=\"textarea\" placeholder=\"Ohjeet\" {...instructions} />\n            <small style={{ fontWeight: 300, color: 'red' }}>{instructionsError || null}</small>\n          </div>\n        </div>\n      </div>\n\n      <button type=\"submit\" className=\"button is-primary\" disabled={hasErrors}>\n        Tallenna juoma\n      </button>\n      <div className=\"button\" onClick={onClose}>\n        Peruuta\n      </div>\n    </form>\n  )\n}\n\nexport default DrinkForm\n","import React, { useState, useEffect } from 'react'\nimport drinkService from '../services/drink'\nimport { connect } from 'react-redux'\nimport { setNotification } from '../reducers/notificationReducer'\nimport TemplatePage from './TemplatePage'\nimport Search from '../components/Search'\nimport DrinkBox from '../components/DrinkBox'\nimport PageHeader from '../components/PageHeader'\nimport DrinkForm from '../components/DrinkForm'\nimport ModalCard from '../components/ModalCard'\nimport InfiniteScroll from 'react-infinite-scroller'\n\nconst DrinkPage = ({ setNotification }) => {\n  const [selectedDrinks, setSelectedDrinks] = useState([])\n  const [drinks, setDrinks] = useState([])\n  const [hasMoreDrinks, setHasMoreDrinks] = useState(true)\n  const [search, setSearch] = useState()\n  const [searchResults, setSearchResults] = useState([])\n\n  const [formOpen, setFormOpen] = useState(false)\n  const [activeDrink, setActiveDrink] = useState()\n\n  useEffect(() => {\n    drinkService\n      .getSelected()\n      .then(s => setSelectedDrinks(s))\n      .catch(e => setNotification('Juomia ei voitu ladata', 'is-danger'))\n  }, [])\n\n  useEffect(() => {\n    if (search) {\n      drinkService\n        .search(search)\n        .then(d => setSearchResults(d))\n        .catch(e => console.log(e))\n    }\n  }, [search])\n\n  const handleSearchChange = event => {\n    setSearch(event.target.value)\n  }\n\n  const handleFormOpen = drink => {\n    if (drink) setActiveDrink(drink)\n    setFormOpen(true)\n  }\n\n  const handleFormClose = () => {\n    setFormOpen(false)\n    setActiveDrink(null)\n  }\n\n  const handleFormSubmit = async drink => {\n    try {\n      if (drink.id) {\n        const updatedDrink = await drinkService.update(drink.id, drink)\n        addUpdatedDrink(updatedDrink)\n        setNotification(`Juoma ${updatedDrink.name} päivitettiin onnistuneest`, 'is-primary')\n      } else {\n        const savedDrink = await drinkService.add(drink)\n        addNewDrink(savedDrink)\n        setNotification(`Juoma ${savedDrink.name} lisättiin onnistuneest`, 'is-primary')\n      }\n      handleFormClose()\n    } catch (error) {\n      console.log(error)\n      setNotification(`Juoman ${drink.name} tallennus epäonnistui`, 'is-danger')\n    }\n  }\n\n  const handleSelect = async drink => {\n    const updatedDrink = await drinkService.select(drink.id, drink)\n    setSearchResults(searchResults.map(d => (d.id === updatedDrink.id ? updatedDrink : d)))\n\n    if (updatedDrink.selected) {\n      setSelectedDrinks(selectedDrinks.concat(updatedDrink))\n    } else {\n      setSelectedDrinks(selectedDrinks.filter(d => d.id !== updatedDrink.id))\n    }\n    setDrinks(drinks.map(d => (d.id === updatedDrink.id ? updatedDrink : d)))\n  }\n\n  const loadMoreDrinks = async page => {\n    drinkService\n      .getPage(page)\n      .then(res => {\n        setDrinks(drinks.concat(res.drinks))\n        setHasMoreDrinks(res.hasMore)\n      })\n      .catch(e => console.log(e))\n  }\n\n  const addUpdatedDrink = drink => {\n    setSelectedDrinks(selectedDrinks.map(d => (d.id === drink.id ? drink : d)))\n    setDrinks(drinks.map(d => (d.id === drink.id ? drink : d)))\n    setSearchResults(searchResults.map(d => (d.id === drink.id ? drink : d)))\n  }\n\n  const addNewDrink = drink => {\n    setDrinks(drinks.concat(drink))\n  }\n\n  const mapToDrinkBox = arr => {\n    if (arr && arr.length > 0) {\n      return arr.map(drink => (\n        <DrinkBox\n          key={drink.id}\n          drink={drink}\n          handleEditOpen={() => handleFormOpen(drink)}\n          handleSelect={handleSelect}\n        />\n      ))\n    }\n\n    return <p className=\"has-text-centered\">Ei juomia</p>\n  }\n\n  const mapDrinks = () => {\n    if (searchResults && search) {\n      return (\n        <>\n          <h4 className=\"title is-4 has-text-centered\">Hakutulokset</h4>\n          {mapToDrinkBox(searchResults)}\n        </>\n      )\n    }\n\n    return (\n      <>\n        <div className=\"section\">\n          <h2 className=\"title is-4 has-text-centered\">Valitut</h2>\n          {mapToDrinkBox(selectedDrinks)}\n        </div>\n        <h2 className=\"title is-4 has-text-centered\">Kaikki</h2>\n        <InfiniteScroll pageStart={0} loadMore={loadMoreDrinks} hasMore={hasMoreDrinks}>\n          <div className=\"container\">{mapToDrinkBox(drinks)}</div>\n        </InfiniteScroll>\n      </>\n    )\n  }\n\n  return (\n    <TemplatePage>\n      <div className=\"container\">\n        <PageHeader title=\"Hinnasto\" buttonText=\"Lisää juoma\" handleClick={handleFormOpen} />\n        <div className=\"columns is-centered\">\n          <Search value={search} placeholder=\"Etsi juoma\" handleChange={handleSearchChange} />\n        </div>\n        {mapDrinks()}\n      </div>\n\n      <ModalCard\n        title={activeDrink ? 'Juoman muokkaus' : 'Juoman lisäys'}\n        visible={formOpen}\n        handleClose={handleFormClose}\n      >\n        <DrinkForm\n          drink={activeDrink}\n          handleSubmit={handleFormSubmit}\n          handleClose={handleFormClose}\n        />\n      </ModalCard>\n    </TemplatePage>\n  )\n}\n\nexport default connect(\n  null,\n  { setNotification }\n)(DrinkPage)\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport TemplatePage from './TemplatePage'\nimport userService from '../services/users'\nimport { setNotification } from '../reducers/notificationReducer'\nimport Button from '../components/Button'\n\nfunction ProfilePage({ currentUser, setNotification }) {\n  const [oldPassword, setOldPassword] = useState('')\n  const [newPassword, setNewPassword] = useState('')\n  const [confirm, setConfirm] = useState('')\n\n  const handleSubmit = async event => {\n    event.preventDefault()\n\n    userService\n      .changePassword(currentUser.id, oldPassword, newPassword)\n      .then(res => {\n        console.log('Changed successfully')\n        reset()\n        setNotification('Salasana vaihdettu!', 'is-primary')\n      })\n      .catch(error => {\n        console.log(error)\n        reset()\n        setNotification('Salasananvaihto epäonnistui', 'is-danger')\n      })\n  }\n\n  const reset = () => {\n    setOldPassword('')\n    setNewPassword('')\n    setConfirm('')\n  }\n\n  const fieldStyle = { display: 'flex', justifyContent: 'center' }\n  const notSame = confirm !== '' && newPassword !== confirm\n\n  if (!currentUser) return null\n\n  return (\n    <TemplatePage>\n      <div className=\"container has-text-centered\">\n        <h3 className=\"title is-3\">Vaihda salasana</h3>\n        <form onSubmit={handleSubmit}>\n          <label>Vanha salasana</label>\n          <div className=\"field has-addons\" style={fieldStyle}>\n            <div className=\"control\">\n              <input\n                className=\"input\"\n                type=\"password\"\n                value={oldPassword}\n                onChange={e => setOldPassword(e.target.value)}\n              />\n            </div>\n          </div>\n\n          <label>Uusi salasana</label>\n          <div className=\"field has-addons\" style={fieldStyle}>\n            <div className=\"control\">\n              <input\n                className=\"input\"\n                type=\"password\"\n                value={newPassword}\n                onChange={e => setNewPassword(e.target.value)}\n              />\n            </div>\n          </div>\n\n          <label>Toista salasana</label>\n          <div className=\"field has-addons\" style={fieldStyle}>\n            <div className=\"control\">\n              <input\n                className=\"input\"\n                type=\"password\"\n                value={confirm}\n                onChange={e => setConfirm(e.target.value)}\n              />\n            </div>\n          </div>\n          {notSame ? <small style={{ color: 'red' }}>Salasanat eivät täsmää</small> : null}\n\n          <Button text=\"Tallenna\" type=\"submit\" />\n        </form>\n      </div>\n    </TemplatePage>\n  )\n}\n\nconst mapStateToProps = state => {\n  return {\n    currentUser: state.user.currentUser\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  { setNotification }\n)(ProfilePage)\n","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { setUser } from './reducers/userReducer'\nimport LoginPage from './pages/LoginPage'\nimport FrontPage from './pages/FrontPage'\nimport RegisterPage from './pages/RegisterPage'\nimport UserPage from './pages/UserPage'\nimport OrganizationPage from './pages/OrganizationPage'\nimport CustomerPage from './pages/CustomerPage'\nimport { BrowserRouter as Router, Route, Redirect } from 'react-router-dom'\nimport './App.scss'\nimport DrinkPage from './pages/DrinkPage'\nimport ProfilePage from './pages/ProfilePage'\n\nconst App = ({ currentUser, setUser }) => {\n  useEffect(() => {\n    const tabListUserJSON = window.localStorage.getItem('tabListUser')\n    if (tabListUserJSON) {\n      setUser(JSON.parse(tabListUserJSON))\n    }\n  }, [])\n\n  return (\n    <div>\n      <Router>\n        <Route\n          exact\n          path=\"/\"\n          render={() => (currentUser ? <FrontPage /> : <Redirect to=\"/login\" />)}\n        />\n        <Route path=\"/login\" render={() => (currentUser ? <Redirect to=\"/\" /> : <LoginPage />)} />\n        <Route\n          path=\"/register\"\n          render={() => (currentUser ? <Redirect to=\"/\" /> : <RegisterPage />)}\n        />\n        <Route path=\"/users\" render={() => <UserPage />} />\n        <Route path=\"/organizations\" render={() => <OrganizationPage />} />\n        <Route path=\"/customers\" render={() => <CustomerPage />} />\n        <Route path=\"/drinks\" render={() => <DrinkPage />} />\n        <Route path=\"/profile\" render={() => <ProfilePage />} />\n      </Router>\n    </div>\n  )\n}\n\nconst mapStateToProps = state => {\n  return {\n    currentUser: state.user.currentUser\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  { setUser }\n)(App)\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk'\n\nimport userReducer from './reducers/userReducer'\nimport notificationReducer from './reducers/notificationReducer'\n\nconst reducer = combineReducers({\n  user: userReducer,\n  notification: notificationReducer\n})\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\n\nconst store = createStore(reducer, composeEnhancers(applyMiddleware(thunk)))\n\nexport default store\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { Provider } from 'react-redux'\nimport store from './store'\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}